<!DOCTYPE html>
<html>
  <head>
    <!--Ensure correct rendering and touch zooming-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--Pannellum-->
    <script src="/node_modules/pannellum/build/pannellum.js"></script>
    <link rel="stylesheet" type="text/css" href="/node_modules/pannellum/build/pannellum.css">
    <!--Angular-->
    <script src="/node_modules/angular/angular.js"></script>
    <script type="text/javascript" src="/modules/app.js"></script>
    <script type="text/javascript" src="/modules/clientController.js"></script>
    <!--JQuery-->
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <!--Bootstrap-->
    <link href="../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <!--Custom styling-->
    <link rel="stylesheet" type="text/css" href="./style/styles.css">
    <!--Socket IO for chat-->
    <script src="../node_modules/socket.io-client/socket.io.js"></script>
  </head>
  <body ng-app="siteApp">
    <nav-bar></nav-bar>
    <div class="flex-container container-fluid dark-body full-height-container" style="padding-top:50px;background-image: url('../resources/bluegradient.jpg')";>
      <div class="container">
        <!-- Three columns of text below the carousel -->
        <div class="row">
          <div class="col-md-1">
          </div>
          <div class="col-md-4">
                <div class="flex-container-item">
                  <h1>This is who we are.</h1>
                  <h2> A summary of the services and products we offer for our customers. </h2>
                </div>
                <div class="flex-container-item featturete">
                  <h3>Sit amet.</h3>
                  <p>Suspendisse malesuada laoreet pellentesque. In pulvinar neque ac ipsum commodo, quis tristique erat blandit. </p>
                </div>
                <div class="flex-container-item featturete">
                  <h3>Qui officia.</h3>
                  <p>Praesent tincidunt justo a metus fringilla, nec iaculis lorem dignissim. </p>
                </div>
                <div class="flex-container-item featturete">
                  <h3>Occaecat cupidatat.</h3>
                  <p>Mauris blandit porttitor neque in cursus. Quisque in porta nunc, sed elementum justo. </p>
                </div>
                <div class="flex-container-item featturete">
                  <h3>Donec feugiat mi odio.</h3>
                  <p>Sit amet pharetra metus facilisis sit amet. </p>
                </div>
          </div>
          <div class="col-md-1">
          </div>
          <div class="col-md-5">
            <h1>See for yourself.</h1>
            <div class="flex-container-item">
              <div id="panorama-container">
                <div id="panorama-dummy"></div>
              <div id="panoramajavascript"></div>
                <script type="text/javascript">
                panoramajavascriptDiv=document.getElementById('panoramajavascript'); dragStartX=0;
                dragStartY=0;
                deltaX=3.0;
                deltaY=0.0;
                backgroundPosX=0.0;
                backgroundPosY=-70.0;
                timeout=20;
                timerId=null;
                function dragStart(e) {
                if (!e) var e = window.event;
                panoramajavascriptDiv.onmousemove=drag;
                dragStartX=e.clientX;
                dragStartY=e.clientY;
                deltaX=0;
                deltaY=0;
                panoramajavascriptDiv.onmouseout=dragStop;
                if (timerId) {
                window.clearTimeout(timerId);}
                timerId=window.setTimeout('scroll()',timeout);}
                function drag(e) {
                if (!e) var e = window.event;
                deltaX=(e.clientX-dragStartX)/5;
                deltaY=(e.clientY-dragStartY)/5;}
                function dragStop() {
                panoramajavascriptDiv.onmousemove=null;
                panoramajavascriptDiv.onmouseout=null;
                if (timerId) {
                window.clearTimeout(timerId);}}
                function scroll() {
                backgroundPosX-=deltaX;
                backgroundPosY=Math.max(-150,Math.min(-
                20,backgroundPosY-deltaY));
                panoramajavascriptDiv.style.backgroundPosition=Math.floor
                (backgroundPosX)+"px "+Math.floor(backgroundPosY)+"px";
                timerId=window.setTimeout('scroll()',timeout);}
                panoramajavascriptDiv.onmousedown=dragStart;
                panoramajavascriptDiv.onmouseup=dragStop;
                timerId=window.setTimeout('scroll()',50);
                </script>
              </div>
            </div>
            <div class="flex-container-item" ng-controller="clientController as clientCtrl">
              <h1>Talk to us.</h1>
                <form id="chat-form" class="form-horizontal" role="form" ng-submit="sendMessage();">
                  <div class="form-group" style="max-width: 100%; margin:0px 0px 0px 0px;">
                      <div class="row input-el" max-width: 100%;>
                        <div class="col-md-6">
                          <input type="text" class="featturete  form-control" id="name" placeholder="Name" ng-model="user" required>
                        </div>
                        <div class="col-md-6">
                          <input type="email" class=" featturete  form-control" id="email" placeholder="Email" ng-model="mail" required>
                        </div>
                      </div>
                      <div class="input-el">
                        <div id="chatbox">
                          <p style="color:gray" ng-hide="chat.length || noAdmins">Si hay un administrador conectado, puedes ver su respuesta aquí. De lo contrario, un mail con tu mensaje será enviado a nuestro correo y respondido a la brevedad.</p>
                          <p ng-repeat="chatobj in chat"> <b style="color:#F7819F">{{chatobj.username}}: </b> {{chatobj.message}} </p>
                          <p ng-show="noAdmins"> <b style="color:gray;">No hay administradores conectados en este momento. Se enviará un mail con tu consulta.</b></p>
                        </div>
                      </div>
                      <div class="row input-el text-center">
                        <div class="col-md-12">
                          <div class="input-group">
                            <textarea id="message-area" ng-disabled="noAdmins" class="featturete  form-control" rows="1"  placeholder="Escribe tu consulta aquí." ng-model="currentMessage" required my-enter="sendMessage();"></textarea>
                            <div class="input-group-btn">
                              <button type="submit" form="chat-form" class="featturete btn btn-default">Enviar </button>
                            </div><!-- /btn-group -->
                          </div>
                        </div>

                      </div>
                    </div>
                </form>
            </div>
          </div>
          <div class="col-md-1">
            <!--Esto va para el footer
            <span class="featturete"><i class="fa fa-facebook"></i></span>
            <span class="featturete"><i class="fa fa-twitter"></i></span>
            <span class="featturete"><i class="fa fa-google-plus"></i></span>
            <span class="featturete"><i class="fa fa-instagram"></i></span>
            <span class="featturete"><i class="fa fa-youtube"></i></span>
            -->
          </div>
        </div><!-- /.row -->
        <br>
        <div class="row">
              <div class="navbar-text" style="width:100%;text-align:center;">
                <a href="#"><i class="fa fa-facebook fa-3x"></i></a>
                <a href="#"><i class="fa fa-twitter fa-3x"></i></a>
                <a href="#"><i class="fa fa-google-plus fa-3x"></i></a>
                <a href="#"><i class="fa fa-instagram fa-3x"></i></a>
                <a href="#"><i class="fa fa-youtube fa-3x"></i></a>
              </div>
        </div>
      </div>

    </div>

  </body>
</html>
